{
  "sksl": {
    "entrypoint": "glitch_effect2_fragment_main",
    "shader": "// This SkSL shader is autogenerated by spirv-cross.\n\nfloat4 flutter_FragCoord;\n\nuniform vec2 iResolution;\nuniform float iTime;\nuniform shader iChannel1;\nuniform half2 iChannel1_size;\n\nvec4 fragColor;\n\nvec2 FLT_flutter_local_FlutterFragCoord()\n{\n    return flutter_FragCoord.xy;\n}\n\nfloat FLT_flutter_local_hash11(inout float p)\n{\n    p = fract(p * 0.103100001811981201171875);\n    p *= (p + 33.3300018310546875);\n    p *= (p + p);\n    return fract(p);\n}\n\nfloat FLT_flutter_local_tearAmount(float y, float t)\n{\n    float band = floor(y / 12.0);\n    float param = band + floor(t * 5.0);\n    float _193 = FLT_flutter_local_hash11(param);\n    float r = _193;\n    float pulse = smoothstep(0.64999997615814208984375, 1.0, (sin((t * 5.0) + (band * 0.699999988079071044921875)) * 0.5) + 0.5);\n    return (((r * 2.0) - 1.0) * 8.0) * pulse;\n}\n\nfloat FLT_flutter_local_hash21(vec2 p)\n{\n    vec3 p3 = fract(p.xyx * 0.103100001811981201171875);\n    p3 += vec3(dot(p3, p3.yzx + vec3(33.3300018310546875)));\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nfloat FLT_flutter_local_verticalJitter(float x, float t)\n{\n    vec2 param = vec2(floor(x * 0.100000001490116119384765625), floor(t * 20.0));\n    return (FLT_flutter_local_hash21(param) - 0.5) * 2.0;\n}\n\nvec2 FLT_flutter_local_channelOffset(float y, float t)\n{\n    float base = (sin((t * 6.283185482025146484375) + (y * 0.0500000007450580596923828125)) + 1.0) * 0.5;\n    float param = floor(y) + floor(t * 60.0);\n    float _158 = FLT_flutter_local_hash11(param);\n    float rnd = _158;\n    float magnitude = ((0.5 * base) + (0.5 * rnd)) * 3.0;\n    float direction = (rnd > 0.5) ? 1.0 : (-1.0);\n    return vec2(direction * magnitude, 0.0);\n}\n\nfloat FLT_flutter_local_scanlineMask(float y)\n{\n    float v = sin(y * 3.1415927410125732421875);\n    return mix(0.85000002384185791015625, 1.0, v * v);\n}\n\nfloat FLT_flutter_local_scanNoise(float y, float t)\n{\n    float frame = floor(fract(t) * 60.0);\n    float nextFrame = mod(frame + 1.0, 60.0);\n    float param = floor(y * 0.75) + frame;\n    float _119 = FLT_flutter_local_hash11(param);\n    float n0 = _119;\n    float param_1 = floor(y * 0.75) + nextFrame;\n    float _127 = FLT_flutter_local_hash11(param_1);\n    float n1 = _127;\n    return mix(n0, n1, (fract(t) * 60.0) - frame);\n}\n\nvoid FLT_main()\n{\n    vec2 fragCoord = FLT_flutter_local_FlutterFragCoord();\n    vec2 pixel = fragCoord;\n    float t_1 = iTime;\n    vec2 res = iResolution;\n    float param_2 = pixel.y;\n    float param_3 = t_1;\n    float tear = FLT_flutter_local_tearAmount(param_2, param_3);\n    pixel.x += tear;\n    float spike = smoothstep(0.800000011920928955078125, 1.0, fract(t_1 * 2.0));\n    float param_4 = pixel.x;\n    float param_5 = t_1;\n    pixel.y += ((FLT_flutter_local_verticalJitter(param_4, param_5) * 2.0) * spike);\n    float param_6 = pixel.y;\n    float param_7 = t_1;\n    vec2 offset = FLT_flutter_local_channelOffset(param_6, param_7);\n    vec2 uvR = (pixel + offset) / res;\n    vec2 uvG = pixel / res;\n    vec2 uvB = (pixel - offset) / res;\n    vec2 param_8 = floor(pixel / vec2(12.0));\n    float block = FLT_flutter_local_hash21(param_8);\n    float blockShift = (step(0.819999992847442626953125, block) * (block - 0.819999992847442626953125)) * 40.0;\n    uvR.x = clamp(uvR.x + (blockShift / res.x), 0.001000000047497451305389404296875, 0.999000012874603271484375);\n    uvG.x = clamp(uvG.x - ((blockShift / res.x) * 0.5), 0.001000000047497451305389404296875, 0.999000012874603271484375);\n    uvB.x = clamp(uvB.x + ((blockShift / res.x) * 0.25), 0.001000000047497451305389404296875, 0.999000012874603271484375);\n    vec4 cR = iChannel1.eval(iChannel1_size * ( uvR));\n    vec4 cG = iChannel1.eval(iChannel1_size * ( uvG));\n    vec4 cB = iChannel1.eval(iChannel1_size * ( uvB));\n    vec3 color = vec3(cR.x, cG.y, cB.z);\n    vec4 original = iChannel1.eval(iChannel1_size * ( pixel / res));\n    float alpha = original.w;\n    float param_9 = pixel.y * 0.75;\n    float mask = FLT_flutter_local_scanlineMask(param_9);\n    color *= mask;\n    float param_10 = pixel.y;\n    float param_11 = t_1;\n    float n = FLT_flutter_local_scanNoise(param_10, param_11);\n    float glitchStrength = smoothstep(0.60000002384185791015625, 1.0, n);\n    float luma = dot(color, vec3(0.2989999949932098388671875, 0.58700001239776611328125, 0.114000000059604644775390625));\n    color = mix(color, vec3(luma), vec3(0.1500000059604644775390625 * glitchStrength));\n    float param_12 = floor(pixel.y) + floor(t_1 * 120.0);\n    float _438 = FLT_flutter_local_hash11(param_12);\n    float flash = step(0.99500000476837158203125, _438) * 0.25;\n    color = min(color + vec3(flash), vec3(1.0));\n    fragColor = vec4(color, alpha);\n}\n\nhalf4 main(float2 iFragCoord)\n{\n      flutter_FragCoord = float4(iFragCoord, 0, 0);\n      FLT_main();\n      return fragColor;\n}\n",
    "stage": 1,
    "uniforms": [
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 0,
        "name": "iResolution",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 1,
        "name": "iTime",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 0,
        "columns": 1,
        "location": 2,
        "name": "iChannel1",
        "rows": 1,
        "type": 12
      }
    ]
  }
}